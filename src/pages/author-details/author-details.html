<div transition:fade id="postWrap" class="content is-medium">
 {$id}

 <table class="pure-table">
		<thead>
		  <tr>
			<th>category</th>
			<th>number posts</th>
		  </tr>
		</thead>
		<!-- <tfoot>
		  <tr>
			<th>name</th>
			<th>subject</th>
		  </tr>
		</tfoot> -->
		<tbody id='authors'>
		{#if $author && $author.cats}
		{#each $author.cats as cat}
		<tr>
		  <td>{cat.name}</td>
		  <td>{cat.len}</td>
		</tr>
		{/each}
		{/if}
		  </tbody>
	</table>


</div>

<style>

iframe {
	width: 100%;
	height: 100vh;
}

blockquote {
	border-bottom-right-radius:4px;
	border-bottom-left-radius:4px;
	text-align: initial;
}
blockquote::before {
	content: 'â˜¼';
	font-size: 4rem;
}
#postWrap {
	padding-top:50px;
	padding-bottom:50px;
}

ol > li {
	font-size: 1.5rem;
	word-spacing: 5px;
    letter-spacing: .5px;
}

h1 {
		padding: 10px;
		padding-left: 50px;
		color:  white;
		border-radius: 0px;
		border-top-right-radius: 20px;
    /* border-bottom-right-radius: 20px; */
		margin-bottom:0;
		margin-top: 5px;
		box-shadow: 2px 2px 15px #ccc;
		-webkit-text-fill-color: white;
    -webkit-text-stroke-width: 1px;
    -webkit-text-stroke-color: black;
    -webkit-text-stroke-width: .2px;
    word-spacing: 15px;
	letter-spacing: 2px;		
	opacity: .8;
	}
h3 { 
	font-size: 2rem;
	margin-left:20px;
} 

</style> 

<script >
		import { fade } from 'svelte-transitions';		
  
 
  export default {
	transitions: { fade },
    store: () => store,
    components:{ 
	}, 
    methods: {
	
    },


	oncreate() {

		const state = store.get();
		const id = state.id;
		console.log('dawg id is '+id)
		console.log('id is '+id)

		const comp = this;

		const urly = `../data/authors_master/${ id }.json`;
		return fetch(urly).then(function(res) {
		return res.json();
			})
			.then(function(json) {
			let arr = [];
		     for (let cat in json) {
				 arr.push({name: cat, len: json[cat].length, data:json[cat]})
			 }

			store.set({author: {name: id, cats: arr} })

			});
	       

		}  // end oncreate()
}
</script>